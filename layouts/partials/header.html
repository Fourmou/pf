<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title">
      <a href="{{ "/" | relURL }}"><img src="/images/logo.png" alt="logo"></a>
    </h1>
    <a id="dark-mode-toggle" class="fa fa-moon-o">Dark Mode</a>
    <div class="topnav" id="myTopnav">
      {{- range .Site.Menus.main }}
      <a href="{{ .URL | safeURL }}" title="{{ .Name }}">{{ .Name }}</a>
      {{- end }}
      <a href="javascript:void(0);" class="icon" onclick="myFunction()"><i class="fa fa-bars"></i></a>
    </div>
  </nav>
</header>
<hr class="site-header-bottom">

<script>
var toggle = document.getElementById("dark-mode-toggle");
var darkTheme = document.getElementById("dark-mode-theme");
var savedTheme = localStorage.getItem("dark-mode-storage") || "light";
setTheme(savedTheme);
  
toggle.addEventListener("click", () => {
    if (toggle.className === "fa fa-moon-o") {
        setTheme("dark");
    } else if (toggle.className === "fa fa-sun-o") {
        setTheme("light");
    }
});

function setTheme(mode) {
    localStorage.setItem("dark-mode-storage", mode);
    if (mode === "dark") {
        darkTheme.disabled = false;
        toggle.className = "fa fa-sun-o";
    } else if (mode === "light") {
        darkTheme.disabled = true;
        toggle.className = "fa fa-moon-o";
    }
}
</script>
